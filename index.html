<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quackmath Games</title>
    <link rel="icon" type="image/png" href="https://i.imgur.com/GHMzp1T.png">
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap");
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { 
            /* SF Pro / Inter Font Stack */
            font-family: "SF Pro Display", "SF Pro Text", "Inter", system-ui, -apple-system, sans-serif; 
            min-height: 100vh; 
            background: #000; 
            color: #fff; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            overflow: hidden; 
            -webkit-font-smoothing: antialiased;
        }

        /* Animated Background */
        body::before, body::after { 
            content: ""; position: absolute; width: 120%; height: 120%; 
            background: radial-gradient(circle at 20% 30%, rgba(0, 150, 255, 0.15), transparent 40%), 
                        radial-gradient(circle at 80% 70%, rgba(255, 255, 255, 0.08), transparent 45%), 
                        radial-gradient(circle at 50% 50%, rgba(0, 255, 180, 0.12), transparent 50%); 
            animation: floatBG 25s linear infinite; z-index: -1; 
        }
        body::after { animation-duration: 40s; opacity: 0.7; }
        @keyframes floatBG { 0% { transform: translate(0, 0) scale(1); } 50% { transform: translate(-5%, -5%) scale(1.05); } 100% { transform: translate(0, 0) scale(1); } }

        .container { width: 100%; max-width: 520px; padding: 2rem 1.25rem; display: flex; flex-direction: column; align-items: center; text-align: center; gap: 1.25rem; }
        .logo { width: 60px; height: auto; filter: drop-shadow(0 0 12px rgba(255, 255, 255, 0.25)); }
        
        h1 { font-size: 2.1rem; font-weight: 700; letter-spacing: -0.022em; }
        
        #search { 
            width: 100%; padding: 0.85rem 1rem; border-radius: 12px; border: 1px solid rgba(255,255,255,0.1); 
            outline: none; font-size: 1rem; text-align: center; background: rgba(255, 255, 255, 0.08); 
            color: white; backdrop-filter: blur(10px); transition: border 0.2s;
        }
        #search:focus { border: 1px solid rgba(255,255,255,0.3); }
        #search::placeholder { color: rgba(255, 255, 255, 0.4); }

        ul { 
            width: 100%; list-style: none; display: flex; flex-direction: column; 
            gap: 0.7rem; max-height: 50vh; overflow-y: auto; padding-right: 5px; 
        }
        
        /* Custom Scrollbar */
        ul::-webkit-scrollbar { width: 4px; }
        ul::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 10px; }

        li { width: 100%; }
        
        a { 
            display: block; padding: 1rem; border-radius: 12px; text-decoration: none; 
            font-weight: 600; color: white; background: rgba(255, 255, 255, 0.06); 
            transition: all 0.2s ease; border: 1px solid rgba(255,255,255,0.05);
        }
        a:hover { background: rgba(255, 255, 255, 0.12); transform: translateY(-2px); border-color: rgba(255,255,255,0.2); }
        
        footer { margin-top: 1rem; font-size: 0.85rem; color: #86868b; }
        .loading { opacity: 0.6; animation: pulse 1.5s infinite; }
        @keyframes pulse { 50% { opacity: 0.3; } }
    </style>
</head>
<body>

    <div class="container">
        <img src="https://i.imgur.com/GHMzp1T.png" alt="Logo" class="logo">
        <h1>Quackmath Games</h1>
        <input type="text" id="search" placeholder="Search games...">
        <ul id="gameList"><li class="loading">Fetching games...</li></ul>
        <footer>Made by Quackmath</footer>
    </div>

    <script>
        const list = document.getElementById('gameList');
        const search = document.getElementById('search');
        let games = [];

        // Fetching the published Google Doc
        fetch('https://docs.google.com/document/d/e/2PACX-1vQBKBzjpOyjHA9PHl3NQi3am0RHVYOLMCCyfk5U2QAjqbB5tnG68XRZgGneMnQeAbI-cstsj08j_yhE/pub')
            .then(r => r.text())
            .then(html => {
                const parser = new DOMParser();
                const doc = parser.parseFromString(html, 'text/html');
                
                // Get all links in the document
                const links = doc.querySelectorAll('a');
                
                links.forEach(link => {
                    const url = link.href;
                    // We only want the actual game links (usually Drive or external)
                    // Google Docs wraps links in a redirect, so we extract the 'q' parameter
                    const actualUrl = new URL(url).searchParams.get('q') || url;
                    
                    const name = link.innerText.trim();

                    // Filter out empty names or the "Report Abuse" links at bottom of Google Docs
                    if (name && name.length > 1 && !actualUrl.includes('google.com/url?')) {
                        games.push({ name, url: actualUrl });
                    }
                });

                render();
            })
            .catch(err => {
                list.innerHTML = '<li>Error loading games. Make sure the Doc is Published to Web.</li>';
                console.error(err);
            });

        function render(filter = '') {
            list.innerHTML = '';
            const filtered = games.filter(g => g.name.toLowerCase().includes(filter.toLowerCase()));

            if (filtered.length === 0) {
                list.innerHTML = '<li style="opacity:0.5; padding: 20px;">No games found</li>';
                return;
            }

            filtered.forEach(g => {
                const li = document.createElement('li');
                const a = document.createElement('a');
                a.href = g.url;
                a.target = '_blank';
                a.textContent = g.name;
                li.appendChild(a);
                list.appendChild(li);
            });
        }

        search.addEventListener('input', e => render(e.target.value));
    </script>
</body>
</html>
